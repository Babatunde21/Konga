(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"3yiL":function(t,e,a){"use strict";a.r(e);var r=a("eVuF"),n=a.n(r),o=a("TRZx"),i=a.n(o),s=a("Bhuq"),c=a.n(s),l=a("SqZg"),u=a.n(l),d=a("Z7t5"),h=a.n(d),p=a("hfKm"),f=a.n(p),m=a("pbKT"),g=a.n(m),v=a("zrwo"),y=a("O40h"),L=a("9Jkg"),b=a.n(L),E=a("0iUn"),S=a("sLSF"),w=a("Tit0"),k=a("MI3g"),O=a("a7VT"),N=a("q1tI"),j=a.n(N),x=a("v/Q/"),P=a("B3rz"),A=a("ly2t"),_=a("6kA8"),C=a("9HVP"),T=a("azIb"),I=a("ZI6C"),B=a("5Ygn"),V=a("PYBl"),D=a.n(V),F=a("PbmA"),M=a("yCdB"),G=a.n(M);function W(t){var e=function(){if("undefined"===typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var a,r=Object(O.default)(t);if(e){var n=Object(O.default)(this).constructor;a=g()(r,arguments,n)}else a=r.apply(this,arguments);return Object(k.default)(this,a)}}var K=T.a.flash.variants,R=function(t){var e=t.label,a=t.listData,r=t.name,n=t.hasError,o=t.onChange,i=t.loading,s=t.value;return j.a.createElement("div",{className:Object(F.composeClasses)(G.a.storeSelect,n&&G.a.storeSelectWithError)},j.a.createElement("span",null,e),i?j.a.createElement(I.a,{className:G.a.loader,name:"loader"}):j.a.createElement(C.a,{className:G.a.storeSelectBox,inputName:r,onChange:function(t){return o(t)},options:a,value:s}))};R.defaultProps={listData:[],hasError:!1,onChange:F.noOp,loading:!1,value:void 0};var H=function(t){Object(w.default)(a,t);var e=W(a);function a(t){var r;Object(E.default)(this,a),r=e.call(this,t);var n=t.states,o=t.lgas,i=t.options,s=i.selectedState,c=i.selectedLga;return r.state={selectedState:r.isSelectionValid(s)?s:"",selectedLga:r.isSelectionValid(c)?c:"",addresses:r.getInitialAddresses(),states:Object(F.isNotEmptyArray)(n)?n:[],lgas:Object(F.isNotEmptyArray)(o)?o:[],lgasLoading:!1},r}return Object(S.default)(a,[{key:"isSelectionValid",value:function(t){return!!t&&"select"!==t.toLowerCase()}},{key:"getInitialAddresses",value:function(){var t=this.props,e=t.addresses,a=t.options,r=a.selectedState,n=a.selectedLga,o=e;return a.showAllPickupLocations||(this.isSelectionValid(r)&&(o=o.filter(function(t){return"".concat(t.region_id)===r})),this.isSelectionValid(n)&&(o=o.filter(function(t){return"".concat(t.lga_id)===n}))),Object(F.isNotEmptyArray)(o)?o:[]}},{key:"setSelectedState",value:function(t){var e=this,a=this.props.addresses.filter(function(e){return"".concat(e.region_id)===t});this.setState({selectedState:t,addresses:a,lgas:[],selectedLga:null},function(){a.length>0&&e.getLgas()})}},{key:"setSelectedLga",value:function(t){var e=this,a=this.props.addresses,r=this.state.selectedState;this.setState({selectedLga:t},function(){var n=a.filter(function(e){return"".concat(e.region_id)===r&&"".concat(e.lga_id)===t});e.setState({addresses:n})})}},{key:"getLgas",value:function(){var t=this,e=this.state.lgasLoading,a=this.props.showFlashMessage;e||(this.setLgasLoadingState(!0),B.a.getLgas(this.state.selectedState).then(function(e){return t.setState({lgas:e}),t.setLgasLoadingState(!1),e}).catch(function(e){D.a.error("[Pickup.getLgas] Error:",e.stack),t.setLgasLoadingState(!1),a({content:"An error occurred fetching LGAs for your selection, Please try again later",variant:K.ERROR})}))}},{key:"setLgasLoadingState",value:function(t){this.setState({lgasLoading:!!t})}},{key:"getLocationsForSelections",value:function(){var t=this.props,e=t.addresses,a=t.showFlashMessage,r=this.state,n=r.selectedState,o=r.selectedLga,i=e;this.isSelectionValid(n)?(i=e.filter(function(t){return"".concat(t.region_id)===n}),this.isSelectionValid(o)&&(i=i.filter(function(t){return"".concat(t.lga_id)===o})),this.setState({addresses:i})):a({content:"Please select a state"})}},{key:"showAll",value:function(){this.setState({addresses:this.props.addresses})}},{key:"getResultLabel",value:function(){var t=this.state,e=t.lgas,a=t.states,r=t.addresses,n=t.selectedState,o=t.selectedLga,i=this.props.addresses,s="",c=Object(F.isNotEmptyArray)(r)&&r.length||0,l=Object(F.isNotEmptyArray)(i)&&i.length||0;if(!(l>0&&l===c)){var u=null,d=null;this.isSelectionValid(o)&&(d=e.find(function(t){return"".concat(t.id)===o})),!d&&this.isSelectionValid(n)&&(u=a.find(function(t){return"".concat(t.id)===n})),d&&(s=" in ".concat(d.name)),u&&(s=" in ".concat(u.name))}return 0===c?"There is no Konga store ".concat(s):"There ".concat(Object(F.checkGrammar)(c)," ").concat(c,"\n        Konga store").concat(Object(F.checkPlurality)(c)," ").concat(s)}},{key:"render",value:function(){var t=this,e=this.state,a=e.lgas,r=e.states,n=e.addresses,o=e.lgasLoading,i=e.selectedState,s=e.selectedLga,c=this.props,l=c.currentPagePath,u=c.loading,d=Object(F.isNotEmptyArray)(r)&&r.map(function(t){return{id:t.id,label:t.name}}),h=a.map(function(t){return{id:t.id,label:t.name}}),p=this.getResultLabel();return j.a.createElement("div",{className:G.a.storeContainer},j.a.createElement("div",{className:G.a.storeTopWrapper},j.a.createElement("form",{action:l,method:"POST",onSubmit:function(e){return Object(F.handleDOMEvent)(e,t.getLocationsForSelections())}},j.a.createElement("div",{className:G.a.storeTopContainer},j.a.createElement(R,{label:"State",listData:d,loading:u,name:"state",onChange:function(e){return t.setSelectedState(e)},value:i}),j.a.createElement(R,{label:"City",listData:h,loading:o,name:"lga",onChange:function(e){return t.setSelectedLga(e)},value:s}),j.a.createElement(_.a,{className:G.a.storeButton,name:"applyPickupSelection",onClick:function(e){return Object(F.handleDOMEvent)(e,t.getLocationsForSelections())},type:"submit",value:!0,variants:T.a.buttonVariants.outline,wrapperClassName:G.a.storeButtonWrapper},"Apply Selection"),j.a.createElement(_.a,{className:G.a.storeButton,name:"showAllPickupOptions",onClick:function(e){return Object(F.handleDOMEvent)(e,t.showAll())},type:"submit",value:!0,variants:T.a.buttonVariants.outline,wrapperClassName:G.a.storeButtonWrapper},"Show All"))),j.a.createElement("div",{className:G.a.storeTopLabel},p)),j.a.createElement("div",{className:G.a.storeLocatorContainer},j.a.createElement("div",{className:G.a.storeLocatorWrapper},Object(F.isNotEmptyArray)(n)&&n.map(function(t){return j.a.createElement("div",{address:t,className:G.a.storeLocatorMainContent,key:t.id},j.a.createElement("div",{className:G.a.storeLocatorTitleWrapper},j.a.createElement("a",{className:G.a.storeLocatorShortInfo,href:"#".concat(Object(F.hyphenate)(t.name))},j.a.createElement(I.a,{className:G.a.storeLocatorStoreIcon,name:"store"}),j.a.createElement("div",{className:G.a.storeLocatorAddressWrapper},j.a.createElement("p",{className:G.a.storeLocatorIdentity},"KongaShop ".concat(Object(F.titleCase)(t.name))),j.a.createElement("p",{className:G.a.storeLocatorAddress},Object(F.truncateMultilineText)(Object(F.titleCase)(t.address),77)))),j.a.createElement("span",null,j.a.createElement("a",{href:t.longitude&&t.latitude&&"https://www.google.com/maps/@".concat(t.longitude,",").concat(t.latitude,",15z?hl=en-US"),rel:"noopener noreferrer",target:"_blank"},j.a.createElement(I.a,{className:G.a.storeLocatorViewIcon,name:"viewstore"})))),j.a.createElement("div",{className:G.a.storeLocatorContent,id:Object(F.hyphenate)(t.name)},j.a.createElement("div",null,j.a.createElement("span",null,"Working Hours"),j.a.createElement("p",null,"Monday - Saturday,\xa0",j.a.createElement("time",{dateTime:"08:00"},"8am"),"\xa0-\xa0",j.a.createElement("time",{dateTime:"18:00"},"6pm"))),j.a.createElement("div",null,j.a.createElement("span",null,"Phone Number"),j.a.createElement("p",null,j.a.createElement("a",{href:t.phone&&"tel:".concat(t.phone)},t.phone))),t.email&&j.a.createElement("div",null,j.a.createElement("span",null,"Email Address"),j.a.createElement("p",null,t.email))))}))))}}]),a}(N.Component);H.defaultProps={currentPagePath:"",lgas:[],states:[],addresses:[],options:{}};var Z=H,q=a("efZa"),z=a("W6PO"),Y=a.n(z),J=a("r3AD"),U=a("L9nT"),X=a.n(U);function Q(){Q=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,r=f.a||function(t,e,a){t[e]=a.value},o="function"==typeof h.a?h.a:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function p(t,e,a){return f()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(I){p=function(t,e,a){return t[e]=a}}function m(t,e,a,n){var o=e&&e.prototype instanceof y?e:y,i=u()(o.prototype),s=new _(n||[]);return r(i,"_invoke",{value:j(t,a,s)}),i}function g(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(I){return{type:"throw",arg:I}}}t.wrap=m;var v={};function y(){}function L(){}function b(){}var E={};p(E,s,function(){return this});var S=c.a,w=S&&S(S(C([])));w&&w!==e&&a.call(w,s)&&(E=w);var k=b.prototype=y.prototype=u()(E);function O(t){["next","throw","return"].forEach(function(e){p(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;r(this,"_invoke",{value:function(r,o){function i(){return new e(function(n,i){!function r(n,o,i,s){var c=g(t[n],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&a.call(u,"__await")?e.resolve(u.__await).then(function(t){r("next",t,i,s)},function(t){r("throw",t,i,s)}):e.resolve(u).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,s)})}s(c.arg)}(r,o,n,i)})}return n=n?n.then(i,i):i()}})}function j(t,e,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return T()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var s=x(i,a);if(s){if(s===v)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=g(t,e,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===v)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}function x(t,e){var a=e.method,r=t.iterator[a];if(void 0===r)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),v;var n=g(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return L.prototype=b,r(k,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:L,configurable:!0}),L.displayName=p(b,d,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===L||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return i.a?i()(t,b):(t.__proto__=b,p(t,d,"GeneratorFunction")),t.prototype=u()(k),t},t.awrap=function(t){return{__await:t}},O(N.prototype),p(N.prototype,l,function(){return this}),t.AsyncIterator=N,t.async=function(e,a,r,o,i){void 0===i&&(i=n.a);var s=new N(m(e,a,r,o),i);return t.isGeneratorFunction(a)?s:s.next().then(function(t){return t.done?t.value:s.next()})},O(k),p(k,d,"Generator"),p(k,s,function(){return this}),p(k,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return i.type="throw",i.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),A(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;A(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:C(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),v}},t}function $(t){var e=function(){if("undefined"===typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var a,r=Object(O.default)(t);if(e){var n=Object(O.default)(this).constructor;a=g()(r,arguments,n)}else a=r.apply(this,arguments);return Object(k.default)(this,a)}}var tt="Store Locator",et=[{id:"1",name:"Store Locator",url:"/stores"}],at=function(t){Object(w.default)(a,t);var e=$(a);function a(t){var r;Object(E.default)(this,a),r=e.call(this,t);var n=t.states,o=t.lgas,i=t.pickupLocations;return r.state={pickupLocations:i||[],states:n||[],lgas:o||[],loading:!1},r}return Object(S.default)(a,[{key:"setLoadingState",value:function(t){this.setState({loading:t})}},{key:"componentDidMount",value:function(){var t=this.props,e=t.states,a=t.pickupLocations;this.setState({states:e,pickupLocations:a})}},{key:"getPickupData",value:function(){var t=this;this.setLoadingState(!0),Object(J.e)().then(function(e){t.setState({pickupLocations:e.pickupLocations,states:e.states})}).catch(function(e){t.setLoadingState(!1),D.a.error("[StoreLocator.getPickupLocations] Error:",e.stack)})}},{key:"render",value:function(){var t=this,e=this.props,a=e.handleSelection,r=e.sectionOptions,n=this.state,o=n.loading,i=n.states,s=n.lgas,c=n.pickupLocations,l=Object(F.isNotEmptyArray)(c),u=Y.a.searchSchemaUrl,d=b()({"@context":u,"@type":"Store",name:l&&c.map(function(t){return"Konga ".concat(Object(F.titleCase)(t.name)," Store")}),address:{"@type":"PostalAddress",streetAddress:l&&c.map(function(t){return Object(F.titleCase)(t.address)})},openingHours:"Mo-Sa 08:00-18:00",telephone:l&&c.map(function(t){return t.phone})});return j.a.createElement("div",{className:X.a.storeLocator},j.a.createElement("div",{className:X.a.storeLocatorTopSection},j.a.createElement(P.a,{title:"".concat(tt," | Konga retail stores across Nigeria")}),j.a.createElement(A.a,{description:"".concat(tt," | Find Konga retail stores in various locations across Nigeria. Our retail stores operate weekly and offer shoppers variety of genuine products at affordable prices."),title:"".concat(tt," | Konga retail stores across Nigeria")}),j.a.createElement(q.a,{schemaData:d}),j.a.createElement("div",{className:X.a.storeLocatorHeaderWrapper},j.a.createElement("div",{className:X.a.storeLocatorHeaderContainer},j.a.createElement(x.a,{className:X.a.storeLocatorBreadCrumb,items:et}),j.a.createElement("header",{className:X.a.storeLocatorHeader},tt)))),j.a.createElement(Z,{addresses:c,getPickupData:function(){return t.getPickupData()},handleSelection:function(t){return a(t)},lgas:s,loading:o,options:r,setLoadingState:function(e){return t.setLoadingState(e)},states:i}))}}],[{key:"getInitialProps",value:function(){var t=Object(y.default)(Q().mark(function t(e){var a,r,n,o;return Q().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.isServer,r=e.req,n={},o={},!a){t.next=21;break}if(t.prev=4,!r.body){t.next=15;break}t.t0=!0,t.next=t.t0===!!r.body.showAllPickupOptions?9:t.t0===!!r.body.applyPickupSelection?11:14;break;case 9:return o.showAllPickupLocations=!0,t.abrupt("break",15);case 11:return r.body.state&&(o.selectedState=r.body.state),r.body.lga&&(o.selectedLga=r.body.lga),t.abrupt("break",15);case 14:return t.abrupt("break",15);case 15:t.next=21;break;case 17:t.prev=17,t.t1=t.catch(4),o.error=t.t1,D.a.error("[Storelocator.getInitialProps]",t.t1);case 21:return t.next=23,Object(J.e)().catch(function(t){D.a.error("[StoreLocator.getInitialProps] Error:",t.stack)});case 23:if(n=t.sent,!o.selectedState){t.next=27;break}return t.next=27,B.a.getLgas(o.selectedState).then(function(t){n.lgas=t});case 27:return t.abrupt("return",Object(v.a)({},n,{basePage:{hideSearchBandOnMobile:!0},sectionOptions:o}));case 28:case"end":return t.stop()}},t,null,[[4,17]])}));return function(e){return t.apply(this,arguments)}}()}]),a}(N.Component);at.defaultProps={lgas:[],pickupLocations:[],sectionOptions:{},states:[]};var rt=at;a.d(e,"default",function(){return rt})},j8dl:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/storeLocator",function(){var t=a("3yiL");return{page:t.default||t}}])}},[["j8dl",1,2,0,3]]]);